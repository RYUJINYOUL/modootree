rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ... (기존 규칙들)

    // likes 컬렉션에 대한 규칙 수정
    match /likes/{userId}/items/{itemId} {
      allow read: if true;  // 모든 사용자가 읽기 가능
      allow create: if isAuthenticated() && request.auth.uid == userId;  // 자신의 컬렉션에만 생성 가능
      allow update: if isAuthenticated() && request.auth.uid == userId;  // 자신의 항목만 수정 가능
      allow delete: if isAuthenticated() && request.auth.uid == userId;  // 자신의 항목만 삭제 가능
    }

    // ... (나머지 기존 규칙들)
  }
}